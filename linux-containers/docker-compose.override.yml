version: '3.4'

services:

  nosqldata:
    ports:
      - "37017:27017"
    volumes:
      - eshop-nosqldata:/data/db

  rabbitmq:
    ports:
    - "25672:15672"
    - "6672:5672"

  webshoppingapigw:
    volumes:
    - ./ApiGateways/Envoy/config/webshopping:/etc/envoy
    ports:
    - "6202:80"
    - "25202:8001"
    - "7202:10000"
  basketdata:
    ports:
      - "7379:6379"
    volumes:
      - eshop-basketdata:/data

volumes:
  eshop-nosqldata:
    external: false
  eshop-basketdata:
    external: false